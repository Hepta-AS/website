(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3067:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7527:function(e,t,s){Promise.resolve().then(s.bind(s,3555))},3555:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var a=s(7437),n=s(2265),i=s(4033),r=s(5754),l=s(8291),o=s(6691),c=s.n(o),d=s(436),u=s(6248),m=s(8333),x=s(9102),g=s.n(x),h=s(1396),p=s.n(h),f=s(3067);let b=["bg-blue-500"],v=e=>{let{services:t}=e,[s,i]=(0,n.useState)(!1),r=(0,n.useRef)(null),o=t.map((e,t)=>({...e,accentColorClass:e.accentColorClass||b[t%b.length]})),d=e=>{if(s||!r.current)return;i(!0);let t=r.current,a=t.firstChild;if(!a){i(!1);return}let n=a.offsetWidth,l=parseInt(window.getComputedStyle(t).getPropertyValue("gap"))||32;t.scrollBy({left:"left"===e?-(n+l):n+l,behavior:"smooth"}),setTimeout(()=>i(!1),500)};return(0,a.jsxs)("div",{className:"jsx-e31a3b984c1d99f9 relative py-12 md:py-16 lg:py-20 bg-black",children:[(0,a.jsx)("div",{ref:r,id:"service-cards-container",style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"jsx-e31a3b984c1d99f9 flex snap-x snap-mandatory overflow-x-auto hide-scrollbar pb-8 md:pb-12 gap-x-6 sm:gap-x-8 md:gap-x-10 px-4 sm:px-6 md:px-8 lg:px-12",children:o.map((e,t)=>(0,a.jsx)(p(),{href:"/tjenester/".concat(e.slug),className:"group flex-shrink-0 snap-center block w-[280px] sm:w-[300px] md:w-[340px] focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-black focus-visible:ring-white",passHref:!0,children:(0,a.jsxs)("div",{className:"jsx-e31a3b984c1d99f9 relative rounded-xl md:rounded-2xl overflow-hidden shadow-lg h-[420px] sm:h-[460px] md:h-[500px] transition-all duration-300 group-hover:shadow-2xl transform-gpu",children:[e.image&&(0,a.jsxs)("div",{className:"jsx-e31a3b984c1d99f9 absolute inset-0 w-full h-full",children:[(0,a.jsx)(c(),{src:e.image,alt:e.title,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105",sizes:"(max-width: 640px) 280px, (max-width: 768px) 300px, 340px",priority:t<=2}),(0,a.jsx)("div",{className:"jsx-e31a3b984c1d99f9 absolute inset-0 bg-black/70 group-hover:bg-black/60 transition-colors duration-300"})]}),!e.image&&(0,a.jsx)("div",{className:"jsx-e31a3b984c1d99f9 absolute inset-0 bg-gradient-to-br from-neutral-800 to-neutral-900 flex items-center justify-center",children:(0,a.jsx)("p",{className:"jsx-e31a3b984c1d99f9 text-neutral-500",children:"Image not available"})}),(0,a.jsxs)("div",{className:"jsx-e31a3b984c1d99f9 absolute inset-x-0 bottom-0 p-5 sm:p-6 md:p-7 z-10 flex flex-col items-center text-center",children:[" ",(0,a.jsx)("h3",{style:{whiteSpace:"pre-line"},className:"jsx-e31a3b984c1d99f9 font-semibold text-white text-3xl sm:text-4xl leading-tight sm:leading-tight mb-2 sm:mb-3",children:e.title}),(0,a.jsx)("div",{className:"jsx-e31a3b984c1d99f9 "+"h-[3px] w-16 sm:w-[70px] mb-3 sm:mb-4 ".concat(e.accentColorClass)}),(0,a.jsx)("p",{className:"jsx-e31a3b984c1d99f9 text-neutral-200 text-sm sm:text-base leading-normal",children:e.content})]})]})},e.slug))}),(0,a.jsxs)("div",{className:"jsx-e31a3b984c1d99f9 flex justify-center gap-x-3 sm:gap-x-4 w-full mx-auto mt-8 md:mt-10",children:[(0,a.jsx)("button",{onClick:()=>d("left"),"aria-label":"Forrige",disabled:s,className:"jsx-e31a3b984c1d99f9 bg-neutral-800/80 hover:bg-neutral-700/90 text-white rounded-full p-2.5 sm:p-3 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-black focus-visible:ring-white transition-all hover:scale-105 disabled:opacity-50",children:(0,a.jsx)(f.Z,{size:20,strokeWidth:2.5})}),(0,a.jsx)("button",{onClick:()=>d("right"),"aria-label":"Neste",disabled:s,className:"jsx-e31a3b984c1d99f9 bg-neutral-800/80 hover:bg-neutral-700/90 text-white rounded-full p-2.5 sm:p-3 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-black focus-visible:ring-white transition-all hover:scale-105 disabled:opacity-50",children:(0,a.jsx)(l.Z,{size:20,strokeWidth:2.5})})]}),(0,a.jsx)(g(),{id:"e31a3b984c1d99f9",children:".hide-scrollbar.jsx-e31a3b984c1d99f9::-webkit-scrollbar{display:none}.hide-scrollbar.jsx-e31a3b984c1d99f9{-ms-overflow-style:none;scrollbar-width:none}"})]})},j="h-[120px] sm:h-[160px] md:h-[200px] lg:h-[280px] xl:h-[350px]",w="font-bold ".concat("text-[clamp(1rem,_0.5rem_+_2vw,_2.5rem)]"," tracking-tighter leading-tight uppercase text-white break-words"),k="font-bold ".concat("text-[clamp(1.25rem,_0.75rem_+_3vw,_3.5rem)]"," tracking-tighter leading-tight uppercase text-white break-words"),y="font-bold ".concat("text-[clamp(1rem,_0.5rem_+_2vw,_2.25rem)]"," text-blue-500 leading-tight tracking-tight"),N=e=>{let{line1Text:t,line2Text:s,line3Text:n,line4Text:i}=e;return(0,a.jsxs)("div",{className:"relative bg-black text-white min-h-screen flex flex-col justify-center items-center py-16 sm:py-24 px-2 overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-[200px] h-[200px] sm:w-[300px] sm:h-[300px] md:w-[400px] md:h-[400px] border border-neutral-800 rounded-full -translate-x-1/2 -translate-y-1/2"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-[200px] h-[200px] sm:w-[300px] sm:h-[300px] md:w-[400px] md:h-[400px] border border-neutral-800 rounded-full translate-x-1/2 translate-y-1/2"})]}),(0,a.jsx)("div",{className:"relative z-10 w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-3xl xl:max-w-5xl px-4 overflow-hidden",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-2 sm:space-y-3 md:space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-3 sm:space-x-4 overflow-hidden",children:[(0,a.jsx)("h1",{className:"".concat(w," flex-shrink min-w-0"),children:t}),(0,a.jsx)("div",{className:"flex-grow flex-shrink-0 basis-[20%] sm:basis-[40%] md:basis-[45%] ".concat(j," rounded-lg overflow-hidden relative"),children:(0,a.jsx)(c(),{src:"/2.jpg",alt:"Digital graphic",fill:!0,className:"object-cover",priority:!0})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-3 sm:space-x-4",children:[(0,a.jsx)("div",{className:"flex-grow flex-shrink-0 basis-[20%] sm:basis-[45%] md:basis-[50%] ".concat(j," rounded-lg overflow-hidden relative bg-neutral-800/30"),children:(0,a.jsx)(c(),{src:"/1.jpg",alt:"Experiences concept",fill:!0,className:"object-cover",priority:!0})}),(0,a.jsx)("h1",{className:"".concat(w," text-right flex-shrink min-w-0"),children:s})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-3 sm:space-x-4",children:[(0,a.jsx)("h1",{className:"".concat(w," flex-shrink min-w-0"),children:n}),(0,a.jsx)("div",{className:"flex-grow flex-shrink-0 basis-[35%] sm:basis-[45%] md:basis-[45%] ".concat(j," rounded-lg overflow-hidden relative bg-neutral-800/30"),children:(0,a.jsx)(c(),{src:"/3.jpg",alt:"Visual concept",fill:!0,className:"object-cover",priority:!0})})]}),(0,a.jsx)("div",{className:"w-full pt-12 md:pt-2 mt-10",children:(0,a.jsx)("h1",{className:"".concat(k," text-left"),children:i})})]})}),(0,a.jsx)("div",{className:"mt-10 sm:mt-12 md:mt-14 text-center w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-3xl xl:max-w-5xl px-4",children:(0,a.jsx)("p",{className:"".concat(y),children:"Together, we create growth."})})]})},S=e=>{let{imageSrc:t,altText:s,title:n,paragraphs:i,imageOnLeft:r=!1,imageClassName:l="object-cover",textContainerClassName:o="",imageContainerClassName:d="aspect-[3/4] sm:aspect-[2/3]",imageContainerCustomClass:u}=e,m=(0,a.jsxs)("div",{className:"space-y-4 md:space-y-6 ".concat(o),children:[(0,a.jsx)("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight",children:n}),i.map((e,t)=>(0,a.jsx)("p",{className:"text-base sm:text-lg  leading-relaxed",children:e},t))]}),x=(0,a.jsx)("div",{className:"relative w-full ".concat(u||d," overflow-hidden rounded-lg shadow-lg"),children:(0,a.jsx)(c(),{src:t,alt:s,fill:!0,className:"".concat(l," w-full h-full"),sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"})});return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 lg:gap-16 items-center",children:r?(0,a.jsxs)(a.Fragment,{children:[x,m]}):(0,a.jsxs)(a.Fragment,{children:[m,x]})})};var T=s(5758),C=function(e,t){let{threshold:s=.1,root:a=null,rootMargin:i="0%",freezeOnceVisible:r=!1}=t,[l,o]=(0,n.useState)(),c=(null==l?void 0:l.isIntersecting)&&r,d=e=>{let[t]=e;o(t)};return(0,n.useEffect)(()=>{let t=null==e?void 0:e.current;if(!window.IntersectionObserver||c||!t)return;let n=new IntersectionObserver(d,{threshold:s,root:a,rootMargin:i});return n.observe(t),()=>n.disconnect()},[null==e?void 0:e.current,JSON.stringify(s),a,i,c]),l};function E(){let e=(0,m.useAuth)(),[t,s]=(0,n.useState)(!1),[o,x]=(0,n.useState)(!1),g=(0,i.useRouter)(),h=(0,i.usePathname)(),p=(0,n.useRef)(h);(0,n.useEffect)(()=>{e.checkAuth()},[e]),(0,n.useEffect)(()=>{o&&h!==p.current&&x(!1),p.current=h},[h,o]);let f=(0,n.useRef)(null),b=C(f,{threshold:.4,freezeOnceVisible:!1}),j=!!(null==b?void 0:b.isIntersecting),w={line1:"ET NYTT KAPITTEL",line2:"VENTER P\xc5 DEG.",line3:"TRYKK FOR \xc5 AVDEKKE",button:"START DITT NESTE KAPITTEL"},k="bg-gray-900 dark:bg-black";return(0,a.jsx)("div",{className:"w-full transition-colors duration-1000 ease-in-out overflow-x-hidden ".concat(j?"".concat("bg-white dark:bg-gray-100"," ").concat("text-gray-900 dark:text-gray-800"):"".concat(k," ").concat("text-gray-100 dark:text-gray-50")),children:(0,a.jsxs)("div",{className:"space-y-32 overflow-x-hidden",children:[(0,a.jsxs)("section",{className:"relative flex flex-col overflow-hidden",style:{minHeight:"calc(100vh - ".concat("5rem",")")},children:[(0,a.jsx)("div",{className:"absolute inset-0 z-0 ".concat(j?"opacity-0":k," transition-opacity duration-1000")}),(0,a.jsx)(c(),{src:"/herobg.jpg",alt:"",fill:!0,priority:!0,quality:100,className:"object-cover opacity-30 z-0",sizes:"100vw"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/30 z-0"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent ".concat(j?"to-white dark:to-gray-100":"to-gray-900 dark:to-black"," z-0")}),(0,a.jsx)("div",{className:"container mx-auto px-4 relative z-10 flex-grow flex flex-col items-center justify-center py-10 sm:py-16 max-w-[100vw]",children:(0,a.jsxs)("div",{className:"mx-auto max-w-[800px] text-center",children:[(0,a.jsxs)("h1",{className:"animate-fade-in bg-gradient-to-br from-white to-gray-400 bg-clip-text text-5xl font-extrabold leading-tight tracking-tight text-transparent sm:text-6xl md:text-7xl",children:["Transform your",(0,a.jsx)("br",{}),"digital presence"]}),(0,a.jsx)("div",{className:"mt-12 flex justify-center gap-4",children:(0,a.jsxs)(r.z,{className:"animate-fade-in h-14 px-8 text-lg [animation-delay:400ms] ".concat(j?"bg-slate-800 hover:bg-slate-700 text-white":"bg-white hover:bg-gray-200 text-slate-900"),size:"lg",onClick:()=>g.push("/tjenester"),children:["se tjenester",(0,a.jsx)(l.Z,{className:"ml-2 h-5 w-5"})]})})]})})]}),(0,a.jsx)(N,{line1Text:"WE CRAFT DIGITAL",line2Text:"EXPERIENCES THAT",line3Text:"TRULY RESONATE DEEPLY.",line4Text:"INNOVATION DRIVES OUR EVERY MOVE."}),(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold tracking-tight",children:"Hva vi gj\xf8r"}),(0,a.jsx)("p",{className:"mt-4 text-xl text-gray-400 dark:text-gray-500",children:"Vi tilbyr en rekke tjenester for \xe5 hjelpe din bedrift \xe5 vokse og lykkes"})]}),(0,a.jsx)("div",{className:"mt-16",children:(0,a.jsx)(v,{services:[{title:"Ai og automasjon",content:"Trenger din bedrift raskere prossesser? Utforsk mulighetene AI kan ha i din bedrift.",slug:"AI",image:"/group11.png"},{title:"Videoproduksjon",content:"Vi kan bist\xe5 med redigering, eller videoproduksjon ved behov",slug:"Videoproduksjon",image:"/IMG_9003.JPG"},{title:"Digital markedsf\xf8ring",content:"Behov for markedsf\xf8ring? Vi bruker data for \xe5 treffe riktig m\xe5lgruppe",slug:"Digitalmarkedsforing",image:"/ai.jpg"},{title:"Utvikling",content:"Behov for tekniske l\xf8sninger? Vi har bred erfaring i utvikling av alt fra Web l\xf8sninger, infrastruktur og mikrokontrollere",slug:"Utvikling",image:"/consulting.jpg"}]})})]})}),(0,a.jsx)("section",{ref:f,className:"py-16 sm:py-24 lg:py-32",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("div",{className:"mb-16 md:mb-24",children:(0,a.jsx)(S,{imageSrc:"/samarbeid.jpg",altText:"Strategisk samarbeid",title:"Strategisk Partnerskap",paragraphs:["Vi g\xe5r dypere enn bare utf\xf8relse. Vi blir din strategiske partner, dedikert til \xe5 forst\xe5 din kjernevirksomhet og dine m\xe5l.","V\xe5r prosess er transparent, samarbeidsorientert og alltid fokusert p\xe5 din langsiktige suksess og vekst."],imageContainerCustomClass:"aspect-[4/3] bg-gray-300 dark:bg-gray-700",imageOnLeft:!1})}),(0,a.jsx)("div",{children:(0,a.jsx)(S,{imageSrc:"/creativity.jpg",altText:"Placeholder image 2",title:"Kreativitet og Teknologi",paragraphs:["Vi kombinerer nyskapende design med den nyeste teknologien for \xe5 skape l\xf8sninger som ikke bare ser bra ut, men som ogs\xe5 fungerer feilfritt.","Kvalitet og innovasjon er kjernen i alt vi gj\xf8r, fra konsept til ferdig produkt."],imageContainerCustomClass:"aspect-[4/3] bg-gray-400 dark:bg-gray-600",imageOnLeft:!0})})]})}),(0,a.jsx)(T.K,{id:"kontakt-oss",line1:w.line1,line2:w.line2,line3:w.line3,buttonText:w.button,onButtonClick:()=>x(!0)}),(0,a.jsx)("div",{className:"mt-8 sm:mt-10 md:mt-12 text-center w-full max-w-md sm:max-w-xl md:max-w-3xl lg:max-w-4xl xl:max-w-5xl px-4",children:(0,a.jsx)("p",{className:"".concat("font-bold ".concat("text-[clamp(1rem,_0.5rem_+_2vw,_2.5rem)]"," text-blue-500 leading-tight tracking-tight"))})}),(0,a.jsx)(d._,{isOpen:t,onClose:()=>s(!1)}),(0,a.jsx)(u.S,{isOpen:o,onClose:()=>x(!1)})]})})}},436:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(7437),n=s(2265),i=s(7013),r=s(5754),l=s(2706),o=s(5179),c=s(6264);function d(e){let{isOpen:t,onClose:s}=e,[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[g,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),b=(0,i.createClientComponentClient)(),v=async()=>{h(!0),f(null);try{let{error:e}=await b.auth.signInWithPassword({email:d,password:m});e?(console.error("Login error:",e.message),f("Feil e-post eller passord.")):(s(),window.location.href="/dashboard")}catch(e){console.error("Unexpected error:",e),f("Noe gikk galt. Pr\xf8v igjen.")}finally{h(!1)}};return(0,a.jsx)(l.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(l.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(l.fK,{children:[(0,a.jsx)(l.$N,{children:"Logg inn"}),(0,a.jsx)(l.Be,{children:"Logg inn med e-post og passord"})]}),(0,a.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,a.jsx)(o.I,{type:"email",placeholder:"E-post",value:d,onChange:e=>u(e.target.value),required:!0}),(0,a.jsx)(o.I,{type:"password",placeholder:"Passord",value:m,onChange:e=>x(e.target.value),required:!0}),p&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:p}),(0,a.jsx)(r.z,{className:"w-full",onClick:v,disabled:g||!d||!m,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Logger inn..."]}):"Logg inn"})]})]})})}},8333:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return m},useAuth:function(){return x}});var a=s(7437),n=s(2265),i=s(7013),r=s(4033),l=s(1657);let o=(0,n.createContext)({user:null,sessionToken:null,userRole:null,login:async()=>{},logout:async()=>{},checkAuth:async()=>({isLoggedIn:!1,user:null}),createTestSession:async()=>{}}),c={id:"test-user-id",email:"test@example.com",user_metadata:{full_name:"Test User"},app_metadata:{},aud:"authenticated",created_at:new Date().toISOString(),role:"admin"},d=()=>"test_"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),u=e=>{var t;if("undefined"==typeof document)return null;let s="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===s.length&&(null===(t=s.pop())||void 0===t?void 0:t.split(";").shift())||null},m=e=>{let{children:t,serverSession:s=null}=e,[m,x]=(0,n.useState)(null),[g,h]=(0,n.useState)(null),[p,f]=(0,n.useState)(null),[b]=(0,n.useState)(()=>(0,i.createClientComponentClient)()),v=(0,r.useRouter)(),j=(0,n.useRef)(!1),w=(0,n.useCallback)(async e=>{if(!e||!e.email)return null;try{var t;let s=await fetch("/api/stripe/create-customer-for-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,email:e.email,name:(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name)||e.email.split("@")[0]})});if(!s.ok){let e=await s.text();return console.error("Failed to create Stripe customer:",e),null}let{customerId:a}=await s.json();return a}catch(e){return console.error("Error ensuring Stripe customer:",e),null}},[]),k=(0,n.useCallback)(async()=>{console.log("Checking auth state..."),"authenticated"===u("session")&&console.log("Found authenticated session cookie");let e=(0,l.$o)("testSession");if(e)try{return console.log("Found test session:",e),x(e.user),h(e.token),f(e.user.role||"customer"),document.cookie="hasTestSession=true; path=/",{isLoggedIn:!0,user:e.user}}catch(e){console.error("Error parsing test session:",e),(0,l.dZ)("testSession")}let{data:{session:t}}=await b.auth.getSession();if(console.log("Auth session:",t?"Exists":"None"),t){console.log("Setting logged in state to true"),x(t.user),h(t.access_token),document.cookie="session=authenticated; path=/; max-age=".concat(604800,"; SameSite=Strict; Secure");try{let{data:e,error:s}=await b.from("profiles").select("role").eq("id",t.user.id).single();!s&&e?f(e.role||"customer"):f("customer")}catch(e){console.error("Error fetching user role:",e),f("customer")}w(t.user)}else console.log("Setting logged in state to false"),x(null),h(null),f(null),document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict; Secure";return{isLoggedIn:!!t,user:(null==t?void 0:t.user)||null}},[b.auth,w]);(0,n.useEffect)(()=>{j.current||(k(),j.current=!0)},[k]),(0,n.useEffect)(()=>{let{data:{subscription:e}}=b.auth.onAuthStateChange(async(e,t)=>{console.log("Auth state changed:",{event:e,session:t}),t?(console.log("Auth state change: User logged in"),x(t.user),h(t.access_token),(0,l.qQ)("sessionToken",t.access_token),document.cookie="session=authenticated; path=/; max-age=".concat(604800,"; SameSite=Strict; Secure")):(0,l.$o)("testSession")||(console.log("Auth state change: User logged out"),x(null),h(null),(0,l.dZ)("sessionToken"),document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict; Secure")});return()=>{e.unsubscribe()}},[b.auth]);let y=async()=>{console.log("Creating test session");let e=d(),t={user:{...c,role:"admin"},token:e,created_at:new Date().toISOString()};(0,l.qQ)("testSession",t),(0,l.qQ)("sessionToken",e),document.cookie="hasTestSession=true; path=/; SameSite=Strict; Secure",document.cookie="session=authenticated; path=/; max-age=".concat(604800,"; SameSite=Strict; Secure"),x(c),h(e),f("admin"),console.log("Test session created:",t)},N=async(e,t)=>{console.log("Attempting login with email:",e);try{await new Promise(e=>setTimeout(e,500));let{data:s,error:a}=await b.auth.signInWithPassword({email:e,password:t});if(a)throw console.error("Login error:",a),a;console.log("Login successful:",s.session?"Session exists":"No session"),s.session&&(x(s.session.user),h(s.session.access_token),(0,l.qQ)("sessionToken",s.session.access_token),document.cookie="session=authenticated; path=/; max-age=".concat(604800,"; SameSite=Strict; Secure"),console.log("Auth state updated after login"))}catch(e){throw console.error("Login process error:",e),e}},S=async()=>{(0,l.dZ)("testSession"),(0,l.dZ)("sessionToken"),document.cookie="hasTestSession=false; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict; Secure",document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict; Secure",await b.auth.signOut(),x(null),h(null),f(null),v.push("/")};return(0,a.jsx)(o.Provider,{value:{user:m,sessionToken:g,userRole:p,login:N,logout:S,checkAuth:k,createTestSession:y},children:t})},x=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[412,599,17,691,317,706,873,102,314,971,938,744],function(){return e(e.s=7527)}),_N_E=e.O()}]);